
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>5. Estadística Inferencial &#8212; Sacha Analytics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/sesion5-estadistica_inferencial';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="4. Estadística Descriptiva" href="sesion4-estadistica_descriptiva.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="home.html">
  
  
  
  
  
  
    <p class="title logo__title">Sacha Analytics</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="home.html">
                    Descripción del Curso
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="preambulo.html">Preámbulo</a></li>





<li class="toctree-l1"><a class="reference internal" href="sesion1-programacion_basica_python.html"><strong>1. Programación Básica con Python</strong></a></li>



<li class="toctree-l1"><a class="reference internal" href="sesion2-procesamiento_datos.html"><strong>2. Manejo, Preprocesamiento y Procesamiento de datos</strong></a></li>




<li class="toctree-l1"><a class="reference internal" href="sesion3-visualizacion_graficas.html"><strong>3. Visualización de gráficos</strong></a></li>





<li class="toctree-l1"><a class="reference internal" href="sesion4-estadistica_descriptiva.html"><strong>4. Estadística Descriptiva</strong></a></li>




<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>5. Estadística Inferencial</strong></a></li>




</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/yenchiah/jupyter-book-template/blob/main/docs/docs/sesion5-estadistica_inferencial.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/yenchiah/jupyter-book-template" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/yenchiah/jupyter-book-template/issues/new?title=Issue%20on%20page%20%2Fdocs/sesion5-estadistica_inferencial.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/docs/sesion5-estadistica_inferencial.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>5. Estadística Inferencial</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>5. Estadística Inferencial</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#i-gestion-de-directorios-y-archivos-en-la-nube"><strong>I. Gestión de directorios y archivos en la nube</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#montar-google-drive-a-colaboratory">1.1. Montar Google drive a Colaboratory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explorar-contenido-de-google-drive">1.2. Explorar contenido de Google Drive</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ii-importar-base-de-datos"><strong>II. Importar base de datos</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparar-entorno">2.1. Preparar entorno</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-en-formato-excel">2.2. Archivos en formato EXCEL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-en-formato-csv">2.3. Archivos en formato CSV</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#iii-modelo-de-regresion-lineal-simple"><strong>III. Modelo de regresión lineal simple</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linealidad">3.1. Linealidad</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#independencia-de-las-observaciones">3.2. Independencia de las observaciones</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prueba-de-hipotesis-de-durbin-watson">Prueba de Hipótesis de Durbin-Watson</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ausencia-de-valores-atipicos">3.3. Ausencia de valores atípicos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalidad-de-los-residuos">3.4. Normalidad de los residuos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#homocedasticidad">3.5. Homocedasticidad</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#iv-modelo-de-regresion-logistica-binaria"><strong>IV. Modelo de regresión logística binaria</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#funcion-logistica">4.1. Función logística</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tamano-muestral-suficiente">4.2. Tamaño muestral suficiente</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-dependiente-binaria">4.3. Variable dependiente binaria</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">4.4. Independencia de las observaciones</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#independencia-entre-variables-categoricas-tipo-dx-y-sexo">Independencia entre variables categóricas (Tipo_Dx y Sexo)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#independencia-entre-una-variable-categorica-y-una-continua-sexo-y-edad">Independencia entre una variable categórica y una continua (Sexo y Edad)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#independencia-entre-una-variable-categorica-y-una-continua-tipo-dx-y-edad">Independencia entre una variable categórica y una continua (Tipo_Dx y Edad)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-e-interpretacion-de-la-separacion-perfecta-en-la-figura-distribucion-de-edad-por-tipo-dx">Análisis e Interpretación de la Separación Perfecta en la figura “Distribución de Edad por Tipo_Dx”</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-de-regresion-logistica-binaria">4.5. Modelo de regresión logística binaria</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="estadistica-inferencial">
<h1><strong>5. Estadística Inferencial</strong><a class="headerlink" href="#estadistica-inferencial" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="i-gestion-de-directorios-y-archivos-en-la-nube">
<h1><strong>I. Gestión de directorios y archivos en la nube</strong><a class="headerlink" href="#i-gestion-de-directorios-y-archivos-en-la-nube" title="Link to this heading">#</a></h1>
<p>La gestión de archivos y directorios en Google Drive es el proceso de organizar, proteger y compartir información digital en la nube, aprovechando sus funciones de colaboración en tiempo real, control de versiones, permisos de acceso y sincronización multiplataforma, lo que facilita el trabajo individual y grupal de manera eficiente.</p>
<section id="montar-google-drive-a-colaboratory">
<h2>1.1. Montar Google drive a Colaboratory<a class="headerlink" href="#montar-google-drive-a-colaboratory" title="Link to this heading">#</a></h2>
<p>Montar Google Drive en Colab es el proceso mediante el cual el entorno de ejecución de Colab obtiene acceso autorizado a los archivos de Google Drive, de forma que se pueden leer, escribir y modificar archivos durante la sesión.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">drive</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">jupyterbook</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">colab</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">20</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span> <span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">division</span> <span class="k">as</span> <span class="n">_</span>
<span class="g g-Whitespace">     </span><span class="mi">18</span> <span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_function</span> <span class="k">as</span> <span class="n">_</span>
<span class="ne">---&gt; </span><span class="mi">20</span> <span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">_import_hooks</span>
<span class="g g-Whitespace">     </span><span class="mi">21</span> <span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">_installation_commands</span>
<span class="g g-Whitespace">     </span><span class="mi">22</span> <span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">_shell_customizations</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">jupyterbook</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">colab</span><span class="o">/</span><span class="n">_import_hooks</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">16</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Copyright 2018 Google Inc.</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1">#</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>     <span class="mi">12</span> <span class="c1"># See the License for the specific language govestylerning permissions and</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="c1"># limitations under the License.</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Colab import customizations to the IPython runtime.&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">16</span> <span class="kn">from</span><span class="w"> </span><span class="nn">google.colab._import_hooks</span><span class="w"> </span><span class="kn">import</span> <span class="n">_altair</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span> <span class="kn">from</span><span class="w"> </span><span class="nn">google.colab._import_hooks</span><span class="w"> </span><span class="kn">import</span> <span class="n">_cv2</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span> <span class="k">def</span><span class="w"> </span><span class="nf">_register_hooks</span><span class="p">():</span>

<span class="n">File</span> <span class="o">~/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">jupyterbook</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.13</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">google</span><span class="o">/</span><span class="n">colab</span><span class="o">/</span><span class="n">_import_hooks</span><span class="o">/</span><span class="n">_altair</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">16</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Copyright 2018 Google Inc. All rights reserved.</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1">#</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>     <span class="mi">12</span> <span class="c1"># See the License for the specific language governing permissions and</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="c1"># limitations under the License.</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;Import hook for ensuring that Altair&#39;s Colab renderer is registered.&quot;&quot;&quot;</span>
<span class="ne">---&gt; </span><span class="mi">16</span> <span class="kn">import</span><span class="w"> </span><span class="nn">imp</span>
<span class="g g-Whitespace">     </span><span class="mi">17</span> <span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="g g-Whitespace">     </span><span class="mi">18</span> <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;imp&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="explorar-contenido-de-google-drive">
<h2>1.2. Explorar contenido de Google Drive<a class="headerlink" href="#explorar-contenido-de-google-drive" title="Link to this heading">#</a></h2>
<p>Explorar contenido de Google Drive se refiere a la acción de navegar, buscar, visualizar y gestionar los archivos y carpetas almacenados en Google Drive, la plataforma de almacenamiento en la nube de Google.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">listar_carpeta</span><span class="p">(</span><span class="n">ruta_carpeta</span><span class="p">):</span>
  <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
  <span class="n">ruta_drive</span> <span class="o">=</span><span class="s2">&quot;/content/drive/MyDrive/&quot;</span>
  <span class="n">contenido_carpeta</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">ruta_drive</span> <span class="o">+</span> <span class="n">ruta_carpeta</span><span class="p">)</span>
  <span class="n">n_elem</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">contenido_carpeta</span><span class="p">)</span>

  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ruta: </span><span class="si">{</span><span class="n">ruta_drive</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ruta_carpeta</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Numero de elementos: </span><span class="si">{</span><span class="n">n_elem</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_elem</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="n">contenido_carpeta</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>La siguiente celda de código, genera una lista de archivos y directorios contenidos en el directorio ó carpeta <strong><code class="docutils literal notranslate"><span class="pre">Base_datos</span></code></strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">listar_carpeta</span><span class="p">(</span><span class="s2">&quot;Base_datos&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ruta: /content/drive/MyDrive/Base_datos
Numero de elementos: 5
(0) fuente_de_datos.gdoc
(1) shapes
(2) biomedicina
(3) meteorologia
(4) finanzas
</pre></div>
</div>
</div>
</div>
<p>La siguiente celda de código, genera una lista de archivos y directorios contenidos en el directorio ó carpeta <strong><code class="docutils literal notranslate"><span class="pre">Base_datos/biomedicina</span></code></strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">listar_carpeta</span><span class="p">(</span><span class="s2">&quot;Base_datos/biomedicina&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ruta: /content/drive/MyDrive/Base_datos/biomedicina
Numero de elementos: 13
(0) datos_abiertos_vigilancia_dengue_2000_2023.csv
(1) datos_abiertos_vigilancia_malaria_2000_2008.csv
(2) datos_abiertos_vigilancia_malaria_2009_2023.csv
(3) Dataset_ExamenesLaboratorio_ConsultaExterna_PatologíasRelacionadas_Diabetes_202001_202404.csv
(4) datos_abiertos_vigilancia_zoonosis_2000_2023.csv
(5) datos_abiertos_vigilancia_iras_2000_2023.csv
(6) datos_abiertos_vigilancia_enfermedad_carrion_2000_2023.csv
(7) pmGenoma_25Septiembre2021.csv
(8) pmGenoma_27Sep2023.csv
(9) primeras_100_filas_anemia.xlsx
(10) primeras_100_filas_anemia.gsheet
(11) TB_DIGTEL_ANEMIA_TRATAMIENTOS.csv
(12) analisis_datos.docx
</pre></div>
</div>
</div>
</div>
<p>La siguiente celda de código, genera una lista de archivos y directorios contenidos en el directorio ó carpeta <strong><code class="docutils literal notranslate"><span class="pre">Base_datos/meteorologia</span></code></strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">listar_carpeta</span><span class="p">(</span><span class="s2">&quot;Base_datos/meteorologia&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ruta: /content/drive/MyDrive/Base_datos/meteorologia
Numero de elementos: 1
(0) data_estacion_madrid.xlsx
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="ii-importar-base-de-datos">
<h1><strong>II. Importar base de datos</strong><a class="headerlink" href="#ii-importar-base-de-datos" title="Link to this heading">#</a></h1>
<section id="preparar-entorno">
<h2>2.1. Preparar entorno<a class="headerlink" href="#preparar-entorno" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Paquete especializado en metodos numericos</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Paquete especialozado manejo de estructuras de datos tipo tablas (Data Frames)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Paquetes especializado para generar graficas</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Paquete especializados de estadística y metodos numéricos</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">stats</span>

<span class="c1"># Paquete especializado en estadística</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sm</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.formula.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">smf</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="archivos-en-formato-excel">
<h2>2.2. Archivos en formato EXCEL<a class="headerlink" href="#archivos-en-formato-excel" title="Link to this heading">#</a></h2>
<p>Las mediciones de temperatura del aire, humedad relativa y radiación solar (variables ambientales), realizadas por una estación meteorológica en un punto geográfico específico son datos <strong>cuantitativos contínuos</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">excel_data_file</span> <span class="o">=</span> <span class="s2">&quot;/content/drive/MyDrive//Base_datos/meteorologia/data_estacion_madrid.xlsx&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># immportando el archivo Excel</span>
<span class="n">df_excel</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">excel_data_file</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_excel</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>     Unnamed: 0      fecha  temp_aire         hr   rxn_solar
0             0 2021-01-01   3.625000  73.583333   99.833333
1             1 2021-01-02   1.329167  60.625000   74.333333
2             2 2021-01-03   1.920833  63.958333  101.500000
3             3 2021-01-04   3.433333  57.791667  101.958333
4             4 2021-01-05   0.445833  69.541667  106.666667
..          ...        ...        ...        ...         ...
329         329 2021-11-26   5.562500  69.875000   87.833333
330         330 2021-11-27   5.500000  61.500000   93.041667
331         331 2021-11-28   4.783333  60.291667  117.750000
332         332 2021-11-29  10.112500  61.541667  108.750000
333         333 2021-11-30   6.691667  74.000000  102.958333

[334 rows x 5 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_interes</span> <span class="o">=</span> <span class="n">df_excel</span><span class="p">[[</span> <span class="s2">&quot;rxn_solar&quot;</span><span class="p">,</span> <span class="s2">&quot;hr&quot;</span><span class="p">,</span> <span class="s2">&quot;temp_aire&quot;</span><span class="p">]]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_interes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      rxn_solar         hr  temp_aire
0     99.833333  73.583333   3.625000
1     74.333333  60.625000   1.329167
2    101.500000  63.958333   1.920833
3    101.958333  57.791667   3.433333
4    106.666667  69.541667   0.445833
..          ...        ...        ...
329   87.833333  69.875000   5.562500
330   93.041667  61.500000   5.500000
331  117.750000  60.291667   4.783333
332  108.750000  61.541667  10.112500
333  102.958333  74.000000   6.691667

[334 rows x 3 columns]
</pre></div>
</div>
</div>
</div>
</section>
<section id="archivos-en-formato-csv">
<h2>2.3. Archivos en formato CSV<a class="headerlink" href="#archivos-en-formato-csv" title="Link to this heading">#</a></h2>
<p>Importar archivos en formato CSV (Comma-Separated Values, o Valores Separados por Comas) consiste en el proceso de cargar o transferir datos almacenados en un archivo CSV a un programa, aplicación o base de datos para su procesamiento, análisis o almacenamiento. Un archivo CSV es un formato de texto plano que organiza datos en filas y columnas, donde los valores están separados por comas (u otros delimitadores, como punto y coma o tabulaciones) y cada fila representa un registro.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">csv_data_file</span> <span class="o">=</span> <span class="s2">&quot;/content/drive/My Drive/Base_datos/biomedicina/TB_DIGTEL_ANEMIA_TRATAMIENTOS.csv&quot;</span>

<span class="n">df_csv</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_data_file</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_csv</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       Sexo  id_persona  Edad Tipo_edad  id_ubigeo  Fecha_atencion    Etapa  \
0         F    41031388    20         A        NaN        20230208  18a-29a   
1         F    40489600     2         A     1128.0        20230107  00a-11a   
2         M    40315865     1         A        NaN        20230207  00a-11a   
3         F    38917347    19         D     1460.0        20210511  00a-11a   
4         M    40507941     3         A     1668.0        20230224  00a-11a   
...     ...         ...   ...       ...        ...             ...      ...   
248888    M     9206744     6         A     1631.0        20230119  00a-11a   
248889    M    25824229     4         A      163.0        20210528  00a-11a   
248890    F    19472530     6         A     1161.0        20230107  00a-11a   
248891    F    33840534     4         A      242.0        20210412  00a-11a   
248892    F    19486739    84         A     1703.0        20230525     60a+   

        Diagnostico Tipo_Dx  Lab  id_eess  
0          99199.17       D  SF3     5942  
1          99199.17       D  SF3     6856  
2          99199.17       D  SF1    27109  
3          99199.17       D  SF1       16  
4          99199.17       D   TA     2978  
...             ...     ...  ...      ...  
248888     99199.17       D  SF2     3263  
248889     99199.17       D  SF1     1819  
248890     99199.17       D  SF2     5217  
248891     99199.17       D  SF1     1812  
248892     99199.17       D  SF1     3161  

[248893 rows x 11 columns]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="iii-modelo-de-regresion-lineal-simple">
<h1><strong>III. Modelo de regresión lineal simple</strong><a class="headerlink" href="#iii-modelo-de-regresion-lineal-simple" title="Link to this heading">#</a></h1>
<p>El modelo de regresión lineal simple (RLS) busca modelar la relación lineal entre una variable independiente (X) y una variable dependiente (Y) mediante la ecuación <a class="reference internal" href="#equation-eq-regresionlinealsimple">(11)</a></p>
<div class="math notranslate nohighlight" id="equation-eq-regresionlinealsimple">
<span class="eqno">(11)<a class="headerlink" href="#equation-eq-regresionlinealsimple" title="Link to this equation">#</a></span>\[ Y = \beta_1 X +\beta_0+ \epsilon \]</div>
<p>Donde:</p>
<p><span class="math notranslate nohighlight">\(Y\)</span> es el valor observado de la <strong>variable dependiente</strong>.
<span class="math notranslate nohighlight">\(\beta_1 X + \beta_0\)</span> es el <strong>valor predicho</strong> de la variable dependiente por el modelo (<span class="math notranslate nohighlight">\(\hat{Y}\)</span>), y finalmente, <span class="math notranslate nohighlight">\(\epsilon\)</span> es el <strong>error residual</strong>.</p>
<p>El <strong>error residual</strong> representa la parte de la variabilidad en la variable dependiente que no es explicada por el modelo. Idealmente, para un buen modelo, los residuos deberían ser pequeños, aleatorios y no mostrar patrones sistemáticos.</p>
<p>En un modelo de regresión lineal simple, el <strong>error residual</strong> (<span class="math notranslate nohighlight">\(\epsilon\)</span>) es la diferencia entre el valor observado de la variable dependiente (<span class="math notranslate nohighlight">\(Y\)</span>) y el valor predicho por el modelo (<span class="math notranslate nohighlight">\(\hat{Y}\)</span>), ecuación <a class="reference internal" href="#equation-eq-errorresidual">(12)</a>.</p>
<div class="math notranslate nohighlight" id="equation-eq-errorresidual">
<span class="eqno">(12)<a class="headerlink" href="#equation-eq-errorresidual" title="Link to this equation">#</a></span>\[\epsilon = Y - \hat{Y}\]</div>
<p>Reducir el error residual implica mejorar la capacidad del modelo para predecir la variable dependiente.</p>
<p><strong>Verificar y Abordar los Supuestos del Modelo</strong></p>
<p>Es crucial examinar los supuestos de la regresión lineal. Si alguno de lo supuestos no se cumple, la precisión del modelo y la magnitud de los residuos pueden verse afectadas. Los supuesto que se debe cumplir son los siguientes:</p>
<ul class="simple">
<li><p>Linealidad</p></li>
<li><p>Independencia de los Errores (Autocorrelación)</p></li>
<li><p>Homocedasticidad</p></li>
<li><p>Normalidad de los Residuos</p></li>
<li><p>Ausencia de valores atípicos (outliers)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definir conjunto de variables</span>

<span class="n">tiempo</span> <span class="o">=</span> <span class="n">df_excel</span><span class="p">[</span><span class="s2">&quot;fecha&quot;</span><span class="p">]</span>
<span class="n">temp_prom</span> <span class="o">=</span> <span class="n">df_excel</span><span class="p">[</span><span class="s2">&quot;temp_aire&quot;</span><span class="p">]</span>
<span class="n">hr</span> <span class="o">=</span> <span class="n">df_excel</span><span class="p">[</span><span class="s2">&quot;hr&quot;</span><span class="p">]</span>
<span class="n">rxn</span> <span class="o">=</span> <span class="n">df_excel</span><span class="p">[</span><span class="s2">&quot;rxn_solar&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="linealidad">
<h2>3.1. Linealidad<a class="headerlink" href="#linealidad" title="Link to this heading">#</a></h2>
<p><strong>Descripción:</strong></p>
<p>La relación entre la variable independiente (<span class="math notranslate nohighlight">\(X\)</span>) y dependiente (<span class="math notranslate nohighlight">\(Y\)</span>) debe ser lineal.</p>
<p><strong>Implicación de Incumplimiento:</strong></p>
<p>El modelo lineal no capturará correctamente la verdadera relación, resultando en predicciones poco fiables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="n">axes</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">temp_prom</span><span class="p">,</span> <span class="n">rxn</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Temperatura °C&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Rxn Solar$(W/M^</span><span class="si">{2}</span><span class="s2">)$&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Estacion de monitoreo en Madrid&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/b769480da51002d38fe95b9cb228bbb92ee7e2c8f8b75517a40e0521b9df4e8b.png" src="../_images/b769480da51002d38fe95b9cb228bbb92ee7e2c8f8b75517a40e0521b9df4e8b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.06</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">temp_prom</span><span class="p">,</span> <span class="n">rxn</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Temperatura °C&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Rxn Solar$(W/M^</span><span class="si">{2}</span><span class="s2">)$&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Estacion de monitoreo en Madrid&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">temp_prom</span><span class="p">,</span> <span class="n">hr</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Temperatura °C&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;hr&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Estacion de monitoreo en Madrid&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">rxn</span><span class="p">,</span> <span class="n">hr</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;rxn&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;hr&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Estacion de monitoreo en Madrid&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7b211e8b44270f81971c8e881efc58bd1648cf44ce980bde4012b606ed580265.png" src="../_images/7b211e8b44270f81971c8e881efc58bd1648cf44ce980bde4012b606ed580265.png" />
</div>
</div>
<p>Si el gráfico de dispersión entre <code class="docutils literal notranslate"><span class="pre">rxn</span></code> y <code class="docutils literal notranslate"><span class="pre">temp_prom</span></code> no muestra una relación claramente lineal, podrías considerar transformaciones de las variables (por ejemplo, logaritmos, raíces cuadradas) o modelos no lineales si la relación subyacente es curvilínea.</p>
</section>
<section id="independencia-de-las-observaciones">
<h2>3.2. Independencia de las observaciones<a class="headerlink" href="#independencia-de-las-observaciones" title="Link to this heading">#</a></h2>
<p><strong>Descripción:</strong></p>
<p>Los errores (residuos) deben ser independientes entre sí, es decir, no debe haber correlación entre ellos.</p>
<p><strong>Implicación de Incumplimento:</strong></p>
<p>Si hay autocorrelación (común en series de tiempo), la precisión de los coeficientes y las pruebas de hipótesis se ve afectada.</p>
<section id="prueba-de-hipotesis-de-durbin-watson">
<h3>Prueba de Hipótesis de Durbin-Watson<a class="headerlink" href="#prueba-de-hipotesis-de-durbin-watson" title="Link to this heading">#</a></h3>
<p>La prueba de Durbin-Watson es una prueba estadística que se utiliza para detectar la presencia de <strong>autocorrelación</strong> en los residuos de un análisis de regresión.</p>
<p><strong>¿Qué es la Autocorrelación?</strong></p>
<p>La autocorrelación ocurre cuando los residuos de un modelo de regresión no son independientes entre sí, sino que están correlacionados secuencialmente. Esto es particularmente común en datos de series de tiempo (como tus datos meteorológicos) donde una observación en un momento dado puede estar relacionada con observaciones anteriores o posteriores.</p>
<p><strong>Descripción de la Prueba:</strong></p>
<p>El estadístico de Durbin-Watson (<span class="math notranslate nohighlight">\(d\)</span>) se calcula a partir de los residuos del modelo de regresión. El valor de <span class="math notranslate nohighlight">\(d\)</span> siempre estará entre 0 y 4.</p>
<ul class="simple">
<li><p><strong>Valores cercanos a 2:</strong> Indican que no hay autocorrelación en los residuos. Este es el escenario ideal para los supuestos de la regresión lineal.</p></li>
<li><p><strong>Valores significativamente menores que 2 (típicamente por debajo de 1.5):</strong> Sugieren <strong>autocorrelación positiva</strong>. Esto significa que un residuo positivo tiende a ser seguido por otro residuo positivo, y un residuo negativo tiende a ser seguido por otro residuo negativo.</p></li>
<li><p><strong>Valores significativamente mayores que 2 (típicamente por encima de 2.5):</strong> Sugieren <strong>autocorrelación negativa</strong>. Esto significa que un residuo positivo tiende a ser seguido por un residuo negativo, y viceversa.</p></li>
</ul>
<p><strong>¿Para qué sirve la Prueba de Durbin-Watson?</strong></p>
<p>La prueba de Durbin-Watson es importante porque la autocorrelación en los residuos viola uno de los supuestos clave de la regresión lineal clásica: la independencia de los errores.</p>
<p>Si hay autocorrelación y no se aborda:</p>
<ul class="simple">
<li><p>Las estimaciones de los coeficientes de regresión (<span class="math notranslate nohighlight">\(\beta_0\)</span>, <span class="math notranslate nohighlight">\(\beta_1\)</span>) seguirán siendo insesgadas, pero <strong>no serán eficientes</strong> (tendrán una mayor varianza).</p></li>
<li><p>Los errores estándar de los coeficientes estarán <strong>subestimados</strong> si hay autocorrelación positiva o <strong>sobreestimados</strong> si hay autocorrelación negativa.</p></li>
<li><p>Esto lleva a que los intervalos de confianza sean demasiado estrechos (en caso de autocorrelación positiva) o demasiado amplios (en caso de autocorrelación negativa), y a que las pruebas de hipótesis (p-valores) sean incorrectas, lo que puede llevar a conclusiones erróneas sobre la significancia estadística de las variables predictoras.</p></li>
</ul>
<p>En resumen, la prueba de Durbin-Watson te ayuda a diagnosticar un problema potencial en tu modelo de regresión (la autocorrelación de los residuos) que puede afectar la validez de tus inferencias estadísticas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">pruebaHipotesis_durbinWatson</span><span class="p">(</span><span class="n">resultado</span><span class="p">):</span>
  <span class="c1"># Calculate the Durbin-Watson statistic</span>
  <span class="n">durbin_watson_statistic</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">durbin_watson</span><span class="p">(</span><span class="n">resultado</span><span class="o">.</span><span class="n">resid</span><span class="p">)</span>

  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estadístico Durbin-Watson: </span><span class="si">{</span><span class="n">durbin_watson_statistic</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">durbin_watson_statistic</span> <span class="o">&lt;</span> <span class="mf">1.5</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Estadístico Durbin-Watson statistico menor que 1.5: autocorrelación positiva.&quot;</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">durbin_watson_statistic</span> <span class="o">&gt;</span> <span class="mf">2.5</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Estadístico Durbin-Watson statistic mayor que 2.5: autocorrelación negativa.&quot;</span><span class="p">)</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Estadístico Durbin-Watson entre 1.5 y 2.5: autocorrelación no significativa.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fit a simple linear regression model</span>
<span class="n">modelo_rxn_temp</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;rxn_solar ~ temp_aire&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_excel</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:              rxn_solar   R-squared:                       0.557
Model:                            OLS   Adj. R-squared:                  0.556
Method:                 Least Squares   F-statistic:                     417.5
Date:                Thu, 06 Nov 2025   Prob (F-statistic):           1.15e-60
Time:                        18:28:09   Log-Likelihood:                -1862.3
No. Observations:                 334   AIC:                             3729.
Df Residuals:                     332   BIC:                             3736.
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept     61.1267      7.960      7.679      0.000      45.468      76.785
temp_aire      9.3873      0.459     20.434      0.000       8.484      10.291
==============================================================================
Omnibus:                        1.068   Durbin-Watson:                   0.802
Prob(Omnibus):                  0.586   Jarque-Bera (JB):                1.173
Skew:                          -0.109   Prob(JB):                        0.556
Kurtosis:                       2.808   Cond. No.                         39.5
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;Intercept&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;temp_aire&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>61.12665376323768
9.387255379972135
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pruebaHipotesis_durbinWatson</span><span class="p">(</span><span class="n">modelo_rxn_temp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estadístico Durbin-Watson: 0.8018175807839815
Estadístico Durbin-Watson statistico menor que 1.5: autocorrelación positiva.
</pre></div>
</div>
</div>
</div>
<p>El estadístico Durbin-Watson determina autocorrelación positiva. Para series de tiempo como datos meteorológicos, esto es común. Se pdría considerar modelos de series de tiempo que tengan en cuenta esta dependencia temporal (por ejemplo, modelos AR, MA, ARMA, ARIMA)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fit a simple linear regression model for hr vs rxn</span>
<span class="n">model_hr_rxn</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;hr ~ rxn_solar&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_excel</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pruebaHipotesis_durbinWatson</span><span class="p">(</span><span class="n">model_hr_rxn</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estadístico Durbin-Watson: 0.8993755341695832
Estadístico Durbin-Watson statistico menor que 1.5: autocorrelación positiva.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fit a simple linear regression model for hr vs temp_prom</span>
<span class="n">model_hr_temp</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;hr ~ temp_aire&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_excel</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pruebaHipotesis_durbinWatson</span><span class="p">(</span><span class="n">model_hr_temp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estadístico Durbin-Watson: 0.590678731081639
Estadístico Durbin-Watson statistico menor que 1.5: autocorrelación positiva.
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="ausencia-de-valores-atipicos">
<h2>3.3. Ausencia de valores atípicos<a class="headerlink" href="#ausencia-de-valores-atipicos" title="Link to this heading">#</a></h2>
<p>Los outliers pueden afectar significativamente el modelo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a box plot of the residuals</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;.8&quot;</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;#137&quot;</span><span class="p">,</span>
            <span class="n">linewidth</span><span class="o">=</span><span class="mf">.75</span><span class="p">,</span>
            <span class="n">flierprops</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;marker&quot;</span><span class="p">:</span> <span class="s2">&quot;o&quot;</span><span class="p">},</span>
            <span class="n">medianprops</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;linewidth&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Residuos&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Diagrama de Cajas de Residuos para rxn vs temp_prom&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/769f2ef4b80d9bf7afc687dbcde82aa1875487c95eff6855757218bf5c0cd990.png" src="../_images/769f2ef4b80d9bf7afc687dbcde82aa1875487c95eff6855757218bf5c0cd990.png" />
</div>
</div>
</section>
<section id="normalidad-de-los-residuos">
<h2>3.4. Normalidad de los residuos<a class="headerlink" href="#normalidad-de-los-residuos" title="Link to this heading">#</a></h2>
<p><strong>Descripción:</strong></p>
<p>Los errores (residuos) deben seguir una distribución normal (o Gaussiana) con media cero.</p>
<p><strong>Implicación de Incumplimiento:</strong></p>
<p>Importante para la inferencia estadística (pruebas t, intervalos de confianza). Menos crítico para la predicción si el tamaño de la muestra es grande.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear gráficos</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.06</span><span class="p">)</span>

<span class="c1"># Gráfico 1: Datos observados y recta ajustada</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Residuos&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Histograma de Residuos para rxn vs temp_prom&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># Gráfico 2: Residuos</span>
<span class="n">sm</span><span class="o">.</span><span class="n">qqplot</span><span class="p">(</span><span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Cuantiles teóricos&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Residuos&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Gráfico Q-Q de Residuos para rxn vs temp_prom&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Ajustar diseño y mostrar</span>
<span class="c1">#plt.tight_layout()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/39c19af57cc6f47952ceec14693d25f823392b3dc555e209dbf3029406c5a096.png" src="../_images/39c19af57cc6f47952ceec14693d25f823392b3dc555e209dbf3029406c5a096.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datos_no_normal</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">exponential</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span> <span class="c1"># scale(media)=10, sd=10, size(tamaño) = 5000</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear gráficos</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.06</span><span class="p">)</span>

<span class="c1"># Gráfico 1: Datos observados y recta ajustada</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">datos_no_normal</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Datos Sintéticos&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Histograma&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># Gráfico 2: Residuos</span>
<span class="n">sm</span><span class="o">.</span><span class="n">qqplot</span><span class="p">(</span><span class="n">datos_no_normal</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Cuantiles teóricos&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Datos Sintéticos&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Gráfico Q-Q de Datos Sintéticos&quot;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

<span class="c1"># Ajustar diseño y mostrar</span>
<span class="c1">#plt.tight_layout()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2462f7f83a2a0ab3bd9ab01bd61b92c104605f266b1062d81f52e62de131dfeb.png" src="../_images/2462f7f83a2a0ab3bd9ab01bd61b92c104605f266b1062d81f52e62de131dfeb.png" />
</div>
</div>
</section>
<section id="homocedasticidad">
<h2>3.5. Homocedasticidad<a class="headerlink" href="#homocedasticidad" title="Link to this heading">#</a></h2>
<p><strong>Descripción:</strong></p>
<p>La varianza de los errores (residuos) debe ser constante para todos los valores de la variable independiente (<span class="math notranslate nohighlight">\(X\)</span>).</p>
<p><strong>Implicación de Incumplimiento:</strong></p>
<p>La varianza de los errores cambia (heterocedasticidad), lo que puede distorsionar los intervalos de confianza y las pruebas de hipótesis.</p>
<p>Análisis e Interpretación del Gráfico de Residuos vs. Valores Ajustados</p>
<p>El gráfico de dispersión de Residuos vs. Valores Ajustados (<code class="docutils literal notranslate"><span class="pre">Residuos</span></code> en el eje Y y <code class="docutils literal notranslate"><span class="pre">Valores</span> <span class="pre">Ajustados</span></code> en el eje X) que acabas de generar es una herramienta visual clave para evaluar el supuesto de <strong>homocedasticidad</strong> en un modelo de regresión lineal.</p>
<p><strong>Homocedasticidad:</strong> Este supuesto establece que la varianza de los errores (residuos) debe ser constante para todos los niveles de la variable independiente o, en este caso, para todos los valores predichos por el modelo.</p>
<p><strong>Interpretación del Gráfico:</strong></p>
<ul class="simple">
<li><p><strong>Si el supuesto de homocedasticidad se cumple:</strong> Los puntos en el gráfico de residuos vs. valores ajustados deberían mostrar una dispersión aleatoria alrededor de la línea horizontal en cero, sin ningún patrón discernible. La “nube” de puntos debería tener un ancho aproximadamente constante a lo largo del eje X.</p></li>
<li><p><strong>Si el supuesto de homocedasticidad NO se cumple (Heterocedasticidad):</strong> Los puntos mostrarán un patrón sistemático. Los patrones comunes que indican heterocedasticidad incluyen:</p>
<ul>
<li><p><strong>Forma de Cono (ensanchándose o estrechándose):</strong> Si la dispersión de los residuos aumenta o disminuye a medida que aumentan los valores ajustados, sugiere heterocedasticidad. Un “cono” que se ensancha hacia la derecha indica que la varianza del error aumenta con los valores predichos, mientras que un cono que se estrecha indica que disminuye.</p></li>
<li><p><strong>Otras formas:</strong> Patrones curvilíneos o agrupaciones también pueden indicar heterocedasticidad.</p></li>
</ul>
</li>
</ul>
<p><strong>Implicaciones de la Heterocedasticidad:</strong></p>
<p>Si el supuesto de homocedasticidad se viola y existe heterocedasticidad:</p>
<ul class="simple">
<li><p>Las estimaciones de los coeficientes de regresión siguen siendo insesgadas, pero <strong>no son eficientes</strong> (tienen una mayor varianza).</p></li>
<li><p>Los errores estándar de los coeficientes estarán <strong>sesgados</strong>, lo que invalida las pruebas de hipótesis (p-valores) y los intervalos de confianza. Esto significa que podrías concluir erróneamente que una variable es estadísticamente significativa (o no) o que tus intervalos de confianza son más precisos de lo que realmente son.</p></li>
</ul>
<p><strong>Posibles Pasos a Seguir si hay Heterocedasticidad:</strong></p>
<p>Si el gráfico sugiere heterocedasticidad, podrías considerar:</p>
<ol class="arabic simple">
<li><p><strong>Transformaciones de la variable dependiente:</strong> Aplicar una transformación matemática a la variable dependiente (<code class="docutils literal notranslate"><span class="pre">rxn</span></code>), como el logaritmo o la raíz cuadrada, a veces puede ayudar a estabilizar la varianza.</p></li>
<li><p><strong>Regresión Robusta:</strong> Utilizar métodos de regresión robusta que no asumen homocedasticidad.</p></li>
<li><p><strong>Errores Estándar Robusto (White Standard Errors):</strong> En <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code>, puedes usar errores estándar robustos que corrigen la heterocedasticidad sin necesidad de transformar los datos o cambiar el modelo. Esto corrige los errores estándar y, por lo tanto, las pruebas de hipótesis y los intervalos de confianza, aunque no mejora la eficiencia de las estimaciones de los coeficientes.</p></li>
</ol>
<p>Si el gráfico de residuos vs. valores ajustados muestra un patrón (forma de cono, por ejemplo), indica heterocedasticidad. Esto significa que la varianza de los errores no es constante. Puedes intentar transformaciones de la variable dependiente o usar métodos de regresión robusta.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configurar semilla para reproducibilidad</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Generar datos sintéticos</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># Número de puntos</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>  <span class="c1"># Variable independiente</span>
<span class="n">beta_0</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># Intercepto</span>
<span class="n">beta_1</span> <span class="o">=</span> <span class="mf">3.0</span>  <span class="c1"># Pendiente</span>

<span class="c1"># Generar errores con heterocedasticidad (varianza creciente con x)</span>
<span class="n">error_scale</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">x</span>  <span class="c1"># Escala de la varianza proporcional a x</span>
<span class="n">errors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">error_scale</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>  <span class="c1"># Errores con distribución normal</span>

<span class="c1"># Generar variable dependiente</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">beta_0</span> <span class="o">+</span> <span class="n">beta_1</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">errors</span>  <span class="c1"># Modelo lineal con errores</span>

<span class="c1"># crear data frame</span>
<span class="n">df_xy</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df_xy</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span>
<span class="n">df_xy</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_xy</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>         x         y
0  0.00000  2.000000
1  0.10101  2.296047
2  0.20202  2.671484
3  0.30303  3.139853
4  0.40404  3.164818
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ajustar modelo de regresión lineal</span>
<span class="n">modelo_xy</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;y ~ x&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_xy</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="n">beta_1</span> <span class="o">=</span> <span class="n">modelo_xy</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>
<span class="n">beta_0</span> <span class="o">=</span> <span class="n">modelo_xy</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;Intercept&quot;</span><span class="p">]</span>

<span class="n">y_pred</span> <span class="o">=</span>  <span class="n">beta_1</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">beta_0</span> <span class="c1"># Valores predichos</span>
<span class="n">residuals</span> <span class="o">=</span> <span class="n">modelo_xy</span><span class="o">.</span><span class="n">resid</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear gráficos</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.06</span><span class="p">)</span>

<span class="c1"># Gráfico 1: Datos observados y recta ajustada</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Datos observados&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Regresión: y = </span><span class="si">{</span><span class="n">beta_0</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">beta_1</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">x&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Regresión Lineal con Heterocedasticidad&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Gráfico 2: Residuos</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">residuals</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residuos&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Residuos&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Gráfico de Residuos (Heterocedasticidad)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Ajustar diseño y mostrar</span>
<span class="c1">#plt.tight_layout()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f53ba2fca0f98f6934261bd3936162fb5a5a3a2a2b644e23c0fc0cba862c624e.png" src="../_images/f53ba2fca0f98f6934261bd3936162fb5a5a3a2a2b644e23c0fc0cba862c624e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fijar semilla para reproducibilidad</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Parámetros del modelo</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># Número de observaciones</span>
<span class="n">beta_0</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Intercepto</span>
<span class="n">beta_1</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Pendiente</span>
<span class="n">sigma</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># Desviación estándar del error (homocedasticidad)</span>

<span class="c1"># Generar datos sintéticos</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>  <span class="c1"># Variable independiente (uniforme entre 0 y 10)</span>
<span class="n">epsilon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>  <span class="c1"># Errores homocedásticos</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">beta_0</span> <span class="o">+</span> <span class="n">beta_1</span> <span class="o">*</span> <span class="n">X</span> <span class="o">+</span> <span class="n">epsilon</span>  <span class="c1"># Variable dependiente</span>

<span class="c1"># crear data frame</span>
<span class="n">df_XY</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df_XY</span><span class="p">[</span><span class="s2">&quot;X&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span>
<span class="n">df_XY</span><span class="p">[</span><span class="s2">&quot;Y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Y</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ajustar modelo de regresión lineal</span>
<span class="n">modelo_XY</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;Y ~ X&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_XY</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="n">BETA_1</span> <span class="o">=</span> <span class="n">modelo_XY</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;X&quot;</span><span class="p">]</span>
<span class="n">BETA_0</span> <span class="o">=</span> <span class="n">modelo_XY</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;Intercept&quot;</span><span class="p">]</span>

<span class="n">Y_pred</span> <span class="o">=</span> <span class="n">modelo_XY</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;Intercept&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">modelo_XY</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;X&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">X</span>  <span class="c1"># Valores predichos</span>
<span class="n">residuals</span> <span class="o">=</span> <span class="n">modelo_XY</span><span class="o">.</span><span class="n">resid</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Graficar datos observados y línea de regresión</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.06</span><span class="p">)</span>

<span class="c1"># Gráfico 1: Datos y línea de regresión</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Datos observados&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y_pred</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Regresión: Y = </span><span class="si">{</span><span class="n">BETA_0</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">BETA_1</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Regresión Lineal Simple&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Gráfico 2: Residuos para verificar homocedasticidad</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">residuals</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residuos&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Residuos&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Residuos (Homocedasticidad)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/bdc79372f972476c6efa3ed3fd5c73f359e9bdd185bf5ad8db902432c68e4943.png" src="../_images/bdc79372f972476c6efa3ed3fd5c73f359e9bdd185bf5ad8db902432c68e4943.png" />
</div>
</div>
<p><strong>Análisis de <code class="docutils literal notranslate"><span class="pre">rxn</span></code> vs <code class="docutils literal notranslate"><span class="pre">temp_prom</span></code>:</strong></p>
<p>Observando el gráfico que generaste (<code class="docutils literal notranslate"><span class="pre">aacb917b</span></code>), fíjate en la distribución de los puntos. Si la dispersión de los residuos no es uniforme a lo largo de los valores ajustados, esto sugiere que la varianza de los errores no es constante. Por ejemplo, si los residuos son más dispersos para valores ajustados altos que para valores ajustados bajos (formando una especie de cono que se abre hacia la derecha), indicaría heterocedasticidad.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtener residuos y valores ajustados del modelo</span>
<span class="n">residuos</span> <span class="o">=</span> <span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">resid</span>
<span class="n">valores_ajustado</span> <span class="o">=</span> <span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">fittedvalues</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pendiente</span> <span class="o">=</span> <span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;temp_aire&quot;</span><span class="p">]</span>
<span class="n">coeficiente</span> <span class="o">=</span> <span class="n">modelo_rxn_temp</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s2">&quot;Intercept&quot;</span><span class="p">]</span>

<span class="n">y_pred</span> <span class="o">=</span>  <span class="n">pendiente</span> <span class="o">*</span> <span class="n">df_excel</span><span class="p">[</span><span class="s2">&quot;temp_aire&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">coeficiente</span> <span class="c1"># Valores predichos</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear gráficos</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.06</span><span class="p">)</span>

<span class="c1"># Gráfico 1: Datos observados y recta ajustada</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_excel</span><span class="p">[</span><span class="s2">&quot;temp_aire&quot;</span><span class="p">],</span> <span class="n">df_excel</span><span class="p">[</span><span class="s2">&quot;rxn_solar&quot;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Datos observados&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_excel</span><span class="p">[</span><span class="s2">&quot;temp_aire&quot;</span><span class="p">],</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Regresión:</span><span class="se">\n</span><span class="s1">rxn = </span><span class="si">{</span><span class="n">coeficiente</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> + </span><span class="si">{</span><span class="n">pendiente</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> x temp&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Temp aire&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Rxn Solar&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Regresión Lineal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Gráfico 2: Residuos</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">valores_ajustado</span><span class="p">,</span> <span class="n">residuos</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residuos&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Valores Ajustados (Valores Pronosticados)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Residuos&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Gráfico de Residuos vs. Valores Ajustados&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Ajustar diseño y mostrar</span>
<span class="c1">#plt.tight_layout()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/995599486548c0a7515e68b0dc5b07ffc890eee691b8b46af99e45e56726fcb4.png" src="../_images/995599486548c0a7515e68b0dc5b07ffc890eee691b8b46af99e45e56726fcb4.png" />
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="iv-modelo-de-regresion-logistica-binaria">
<h1><strong>IV. Modelo de regresión logística binaria</strong><a class="headerlink" href="#iv-modelo-de-regresion-logistica-binaria" title="Link to this heading">#</a></h1>
<p>La regresión logística binaria  es un modelo estadístico que predice la probabilidad de un resultado en una variable de dos categorías, basándose en una o más variables independientes. Se emplea para clasificar, explicar o predecir, y es una herramienta común en campos como medicina, finanzas y ciencias sociales.</p>
<p><strong>¿Para que sirve?</strong></p>
<p>Sirve para modelar la relación entre una o más <strong>variables independientes</strong> (predictoras) y una <strong>variable dependiente categórica</strong> (la que queremos predecir). La variable dependiente suele ser binaria (con dos categorías, como sí/no, verdadero/falso, 0/1).</p>
<p><strong>Verificar y abordar Supuestos del Modelo para un caso estudio de Anemia</strong></p>
<p>Para implementar un modelo de <strong>regresión logística binaria</strong> con una base de datos de anemia, utilizando <strong>Dx_Definitivo</strong> como variable dependiente y <strong>Edad</strong> y <strong>Sexo</strong> como variables independientes, es fundamental que cada variable cumpla con los siguientes supuestos y condiciones específicas:</p>
<ul>
  <li>Tamaño muestral sufuciente.</li>
  <li>La variable dependiente tiene que ser binaria.</li>
  <li>Independencia de las observaciones.</li>
</ul><p>Antes de abordar cada uno de los supuestos y condiciones que deben cumplir las variables dependientes e independientes, primero se describe la función logística.</p>
<section id="funcion-logistica">
<h2>4.1. Función logística<a class="headerlink" href="#funcion-logistica" title="Link to this heading">#</a></h2>
<p>El modelo de regresión logística binaria utiliza una función logística para modelar la probabilidad de un resultado, la relación matemática general para la probabilidad predicha viene definida en la ecuación <a class="reference internal" href="#equation-eq-regresionlogisticabinaria">(13)</a>.</p>
<div class="math notranslate nohighlight" id="equation-eq-regresionlogisticabinaria">
<span class="eqno">(13)<a class="headerlink" href="#equation-eq-regresionlogisticabinaria" title="Link to this equation">#</a></span>\[ P(y) = \frac{1}{1 + e^{-(\beta_{0} + \beta_{1}\times x_{1} + \beta_{2}\times x_{2})}}\]</div>
<p>Donde:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(y\)</span> es la variable dependiente.</p></li>
<li><p>Las variables predictoras <span class="math notranslate nohighlight">\(x_{1}\)</span>, <span class="math notranslate nohighlight">\(x_{2}\)</span> tienen que ser linealmente independientes.</p></li>
<li><p><span class="math notranslate nohighlight">\(\beta_0, \beta_1\)</span> y <span class="math notranslate nohighlight">\(\beta_2\)</span> son coeficientes estimados.</p></li>
</ul>
<p>Para el caso estudio de anemia la función logística se define a través de la ecuación <a class="reference internal" href="#equation-eq-regresionlogisticabinariaanemia">(14)</a>. Donde, <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span></code> será la variable dependiente y <code class="docutils literal notranslate"><span class="pre">Edad</span></code> y <code class="docutils literal notranslate"><span class="pre">Sexo</span></code> serán las variables linealmente independinetes predictoras.</p>
<div class="math notranslate nohighlight" id="equation-eq-regresionlogisticabinariaanemia">
<span class="eqno">(14)<a class="headerlink" href="#equation-eq-regresionlogisticabinariaanemia" title="Link to this equation">#</a></span>\[ P(Tipo\_Dx) = \frac{1}{1 + e^{-(\beta_{0} + \beta_{1}\times Edad + \beta_{2}\times Sexo)}}\]</div>
</section>
<section id="tamano-muestral-suficiente">
<h2>4.2. Tamaño muestral suficiente<a class="headerlink" href="#tamano-muestral-suficiente" title="Link to this heading">#</a></h2>
<p>Se recomienda un número adecuado de observaciones por categoría de la variable dependiente (generalmente al menos 10 eventos por variable independiente para estimaciones estables).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_csv</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 248893 entries, 0 to 248892
Data columns (total 11 columns):
 #   Column          Non-Null Count   Dtype  
---  ------          --------------   -----  
 0   Sexo            248893 non-null  object 
 1   id_persona      248893 non-null  int64  
 2   Edad            248893 non-null  int64  
 3   Tipo_edad       248893 non-null  object 
 4   id_ubigeo       243110 non-null  float64
 5   Fecha_atencion  248893 non-null  int64  
 6   Etapa           248893 non-null  object 
 7   Diagnostico     248893 non-null  float64
 8   Tipo_Dx         248893 non-null  object 
 9   Lab             248893 non-null  object 
 10  id_eess         248893 non-null  int64  
dtypes: float64(2), int64(4), object(5)
memory usage: 20.9+ MB
None
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_csv</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sexo                 0
id_persona           0
Edad                 0
Tipo_edad            0
id_ubigeo         5783
Fecha_atencion       0
Etapa                0
Diagnostico          0
Tipo_Dx              0
Lab                  0
id_eess              0
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="variable-dependiente-binaria">
<h2>4.3. Variable dependiente binaria<a class="headerlink" href="#variable-dependiente-binaria" title="Link to this heading">#</a></h2>
<p>La variable dependiente debe tener solo dos categorías (p. ej., 0 y 1, o “sí” y “no”).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_csv</span><span class="p">[</span><span class="s2">&quot;Tipo_Dx&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tipo_Dx
D    248398
R       454
P        41
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filtrar el DataFrame para excluir las filas donde &#39;Tipo_Dx&#39; es &#39;R&#39;</span>
<span class="n">df_Dx_sinR</span> <span class="o">=</span> <span class="n">df_csv</span><span class="p">[</span><span class="n">df_csv</span><span class="p">[</span><span class="s2">&quot;Tipo_Dx&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;R&quot;</span><span class="p">]</span>

<span class="c1"># Mostrar las counts de la columna &#39;Tipo_Dx&#39; en el nuevo DataFrame para verificar</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Tipo_Dx&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tipo_Dx
D    248398
P        41
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Dx_Definitivo&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Tipo_Dx&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;D&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Dx_Definitivo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dx_Definitivo
1    248398
0        41
Name: count, dtype: int64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipython-input-2493932122.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df_Dx_sinR[&quot;Dx_Definitivo&quot;] = (df_Dx_sinR[&quot;Tipo_Dx&quot;] == &quot;D&quot;).astype(int)
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h2>4.4. Independencia de las observaciones<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>Las observaciones deben ser independientes entre sí (sin correlación entre casos, como en datos repetidos o longitudinales sin ajustar).</p>
<section id="independencia-entre-variables-categoricas-tipo-dx-y-sexo">
<h3>Independencia entre variables categóricas (Tipo_Dx y Sexo)<a class="headerlink" href="#independencia-entre-variables-categoricas-tipo-dx-y-sexo" title="Link to this heading">#</a></h3>
<p>Para evaluar la independencia entre dos variables categóricas como <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span></code> y <code class="docutils literal notranslate"><span class="pre">Sexo</span></code>, podemos utilizar la prueba de independencia Chi-cuadrado (<span class="math notranslate nohighlight">\(\chi^2\)</span>).</p>
<p><strong>Hipótesis de la prueba:</strong></p>
<ul class="simple">
<li><p><strong>Hipótesis Nula (<span class="math notranslate nohighlight">\(H_0\)</span>):</strong> Las variables <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span></code> y <code class="docutils literal notranslate"><span class="pre">Sexo</span></code> son independientes. No hay asociación entre el tipo de diagnóstico y el sexo.</p></li>
<li><p><strong>Hipótesis Alternativa (<span class="math notranslate nohighlight">\(H_1\)</span>):</strong> Las variables <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span></code> y <code class="docutils literal notranslate"><span class="pre">Sexo</span></code> no son independientes. Existe una asociación entre el tipo de diagnóstico y el sexo.</p></li>
</ul>
<p>Realizaremos la prueba utilizando la función <code class="docutils literal notranslate"><span class="pre">chi2_contingency</span></code> de la librería <code class="docutils literal notranslate"><span class="pre">scipy.stats</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Tipo_Dx&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tipo_Dx
D    248398
P        41
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear una tabla de contingencia de Tipo_Dx y Sexo</span>
<span class="n">contingency_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s1">&#39;Tipo_Dx&#39;</span><span class="p">],</span> <span class="n">df_csv</span><span class="p">[</span><span class="s1">&#39;Sexo&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tabla de Contingencia (Tipo_Dx vs Sexo):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contingency_table</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tabla de Contingencia (Tipo_Dx vs Sexo):
Sexo          F       M
Tipo_Dx                
D        122359  126039
P            26      15
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Realizar la prueba de independencia Chi-cuadrado</span>
<span class="n">chi2</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">dof</span><span class="p">,</span> <span class="n">expected</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">chi2_contingency</span><span class="p">(</span><span class="n">contingency_table</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Estadístico Chi-cuadrado: </span><span class="si">{</span><span class="n">chi2</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Valor p: </span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Grados de libertad (dof): </span><span class="si">{</span><span class="n">dof</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estadístico Chi-cuadrado: 2.7444
Valor p: 0.0976
Grados de libertad (dof): 1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Interpretar el resultado</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="k">if</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">alpha</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">El valor p (</span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">) es menor que el nivel de significancia (</span><span class="si">{</span><span class="n">alpha</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Rechazamos la hipótesis nula.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Existe una asociación significativa entre Tipo_Dx y Sexo.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">El valor p (</span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">) es mayor que el nivel de significancia (</span><span class="si">{</span><span class="n">alpha</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No rechazamos la hipótesis nula.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No hay evidencia suficiente para decir que existe una asociación significativa entre Tipo_Dx y Sexo.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El valor p (0.0976) es mayor que el nivel de significancia (0.05).
No rechazamos la hipótesis nula.
No hay evidencia suficiente para decir que existe una asociación significativa entre Tipo_Dx y Sexo.
</pre></div>
</div>
</div>
</div>
</section>
<section id="independencia-entre-una-variable-categorica-y-una-continua-sexo-y-edad">
<h3>Independencia entre una variable categórica y una continua (Sexo y Edad)<a class="headerlink" href="#independencia-entre-una-variable-categorica-y-una-continua-sexo-y-edad" title="Link to this heading">#</a></h3>
<p>Para evaluar la independencia entre una variable categórica (<code class="docutils literal notranslate"><span class="pre">Sexo</span></code>) y una variable continua (<code class="docutils literal notranslate"><span class="pre">Edad</span></code>), podemos visualizar la distribución de la variable continua para cada categoría de la variable categórica. Un diagrama de cajas (boxplot). <strong>Si las distribuciones de <code class="docutils literal notranslate"><span class="pre">Edad</span></code> son similares para ambos sexos, sugiere independencia; si son diferentes, sugiere dependencia.</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un diagrama de cajas para Edad por Sexo</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Sexo&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Edad&#39;</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df_Dx_sinR</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sexo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Edad&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Edad por Sexo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a6acfe64ae78b59387a8beba170d8c0fc56cc8fbad9a27a4e186012493601e40.png" src="../_images/a6acfe64ae78b59387a8beba170d8c0fc56cc8fbad9a27a4e186012493601e40.png" />
</div>
</div>
<p>Ejemplo de dependencia entre una variable categórica y una variable contínua usando datos sintéticos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generar datos sintéticos para demostrar dependencia entre Edad y Sexo</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span> <span class="c1"># para reproducibilidad</span>

<span class="c1"># Número de observaciones por categoría de sexo</span>
<span class="n">n_femenino</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">n_masculino</span> <span class="o">=</span> <span class="mi">100</span>

<span class="c1"># Generar edades para mujeres (con una distribución diferente, por ejemplo, menor media)</span>
<span class="n">edad_femenino</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">n_femenino</span><span class="p">)</span> <span class="c1"># Media 30, desviación estándar 10</span>

<span class="c1"># Generar edades para hombres (con una distribución diferente, por ejemplo, mayor media)</span>
<span class="n">edad_masculino</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">n_masculino</span><span class="p">)</span> <span class="c1"># Media 40, desviación estándar 12</span>

<span class="c1"># Crear Series de Sexo</span>
<span class="n">sexo_femenino</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;F&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_femenino</span><span class="p">)</span>
<span class="n">sexo_masculino</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;M&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_masculino</span><span class="p">)</span>

<span class="c1"># Combinar los datos en un DataFrame</span>
<span class="n">df_sintetico_sexo_edad</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Edad&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">edad_femenino</span><span class="p">,</span> <span class="n">edad_masculino</span><span class="p">]),</span>
    <span class="s1">&#39;Sexo&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">sexo_femenino</span><span class="p">,</span> <span class="n">sexo_masculino</span><span class="p">])</span>
<span class="p">})</span>

<span class="c1"># Mostrar las primeras filas del DataFrame sintético</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;DataFrame Sintético (Edad vs Sexo):&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_sintetico_sexo_edad</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DataFrame Sintético (Edad vs Sexo):
        Edad Sexo
0  34.967142    F
1  28.617357    F
2  36.476885    F
3  45.230299    F
4  27.658466    F
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un diagrama de cajas para visualizar la dependencia</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Sexo&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Edad&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_sintetico_sexo_edad</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;.8&quot;</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;#137&quot;</span><span class="p">,</span>
            <span class="n">linewidth</span><span class="o">=</span><span class="mf">.75</span><span class="p">,</span>
            <span class="n">flierprops</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;marker&quot;</span><span class="p">:</span> <span class="s2">&quot;o&quot;</span><span class="p">},</span>
            <span class="n">medianprops</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;linewidth&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sexo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Edad&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Edad por Sexo (Datos Sintéticos)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f134ea08bfadf1a55573545e708b65d4a68e7b0c3e64e38068d09150edb43689.png" src="../_images/f134ea08bfadf1a55573545e708b65d4a68e7b0c3e64e38068d09150edb43689.png" />
</div>
</div>
<p><strong>Análisis e interpretación</strong></p>
<ul>
  <li><b>Diferencia en la Mediana</b>: La línea que representa la mediana de la Edad es diferente para cada Sexo. En este caso sintético, la mediana de la Edad para el Sexo Masculino es visiblemente mayor que la mediana para el Sexo Femenino.</li>
  <li><b>Diferencia en la dispersión</b>:La longitud de la caja (que representa el rango intercuartil, donde se encuentra el 50% central de los datos) y la extensión de los bigotes son diferentes. En este gráfico, la dispersión de la Edad es ligeramente mayor para el sexo Masculino, lo que refleja la mayor desviación estándar.</li>
  <li><b>Valores atípicos</b>: Los puntos individuales fuera de los bigotes representan valores atípicos. Su presencia y distribución también pueden diferir entre las categorias.</li>
</ul>
<p><strong>Conclusión</strong></p>
<p>Dado que las distribuciones de la variable “Edad” son claramente diferentes entre las categorías de la variable “Sexo” (diferentes medianas y dispersiones), este gráfico de cajas demuestra visualmente una dependencia o asociación entre la Edad y el Sexo en estos datos sintéticos. Si las distribuciones fueran muy similares, sugeriría independencia.</p>
<p>Este tipo de visualización es útil para evaluar la independencia entre una variable continua y una categórica antes de incluirlas en modelos como la regresión logística.</p>
</section>
<section id="independencia-entre-una-variable-categorica-y-una-continua-tipo-dx-y-edad">
<h3>Independencia entre una variable categórica y una continua (Tipo_Dx y Edad)<a class="headerlink" href="#independencia-entre-una-variable-categorica-y-una-continua-tipo-dx-y-edad" title="Link to this heading">#</a></h3>
<p>De manera similar, para evaluar la independencia entre <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span></code> (categórica binaria, usando <code class="docutils literal notranslate"><span class="pre">Dx_Definitivo</span></code> que creamos previamente) y <code class="docutils literal notranslate"><span class="pre">Edad</span></code> (continua), podemos usar un diagrama de cajas. Una diferencia en la distribución de <code class="docutils literal notranslate"><span class="pre">Edad</span></code> entre las categorías de <code class="docutils literal notranslate"><span class="pre">Dx_Definitivo</span></code> (<code class="docutils literal notranslate"><span class="pre">0</span></code> y <code class="docutils literal notranslate"><span class="pre">1</span></code>) sugeriría dependencia.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Dx_Definitivo&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dx_Definitivo
1    248398
0        41
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un diagrama de cajas para Edad por Dx_Definitivo</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Tipo_Dx&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Edad&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_Dx_sinR</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;.8&quot;</span><span class="p">,</span> <span class="n">linecolor</span><span class="o">=</span><span class="s2">&quot;#137&quot;</span><span class="p">,</span>
            <span class="n">linewidth</span><span class="o">=</span><span class="mf">.75</span><span class="p">,</span>
            <span class="n">flierprops</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;marker&quot;</span><span class="p">:</span> <span class="s2">&quot;o&quot;</span><span class="p">},</span>
            <span class="n">medianprops</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;linewidth&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tipo_Dx&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Edad&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Edad por Tipo_Dx&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/794a8a2bdea4530b87fe320dfd9a7b1d870d1d50e09898c5d843142d182f2c59.png" src="../_images/794a8a2bdea4530b87fe320dfd9a7b1d870d1d50e09898c5d843142d182f2c59.png" />
</div>
</div>
</section>
<section id="analisis-e-interpretacion-de-la-separacion-perfecta-en-la-figura-distribucion-de-edad-por-tipo-dx">
<h3>Análisis e Interpretación de la Separación Perfecta en la figura “Distribución de Edad por Tipo_Dx”<a class="headerlink" href="#analisis-e-interpretacion-de-la-separacion-perfecta-en-la-figura-distribucion-de-edad-por-tipo-dx" title="Link to this heading">#</a></h3>
<p>La <strong>separación perfecta</strong> (o separación completa) en el contexto de la regresión logística ocurre cuando una o más variables independientes pueden predecir el resultado de la variable dependiente binaria con un 100% de precisión. En otras palabras, existe un valor o rango de valores de la variable independiente que divide perfectamente a las observaciones en las dos categorías de la variable dependiente.</p>
<p>En el caso de la figura “Distribución de Edad por Tipo_Dx”, que muestra la distribución de la variable continua <code class="docutils literal notranslate"><span class="pre">Edad</span></code> para las dos categorías de <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span></code> (que ahora es binaria, esencialmente “D” y “P” después de filtrar “R”), la separación perfecta ocurriría si:</p>
<ol class="arabic simple">
<li><p><strong>No hay superposición en las distribuciones de Edad:</strong> Si el rango de edades para el grupo con <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span> <span class="pre">=</span> <span class="pre">D</span></code> y el rango de edades para el grupo con <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span> <span class="pre">=</span> <span class="pre">P</span></code> no se solaparan en absoluto. Por ejemplo, si todas las personas con <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span> <span class="pre">=</span> <span class="pre">D</span></code> tuvieran edades entre 0 y 10 años, y todas las personas con <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span> <span class="pre">=</span> <span class="pre">P</span></code> tuvieran edades entre 20 y 80 años, habría una separación perfecta basada en la Edad.</p></li>
<li><p><strong>Un punto de corte claro:</strong> Existiría un valor de edad específico (un punto de corte) por encima o por debajo del cual todas las observaciones pertenecerían a una sola categoría de <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span></code>.</p></li>
</ol>
<p><strong>Cómo la figura ayuda a evaluar la separación perfecta:</strong></p>
<p>El diagrama de cajas te permite evaluar visualmente si existe esta separación perfecta:</p>
<ul class="simple">
<li><p><strong>Superposición de las cajas y bigotes:</strong> Si las cajas (que representan el 50% central de los datos) y/o los bigotes (que se extienden para cubrir la mayor parte de los datos dentro de un rango razonable) de las dos categorías de <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span></code> se superponen significativamente, como parece ser el caso en tu figura, esto <strong>indica que NO hay separación perfecta</strong> basada únicamente en la variable <code class="docutils literal notranslate"><span class="pre">Edad</span></code>. Hay individuos con edades similares en ambos grupos de diagnóstico.</p></li>
<li><p><strong>Ausencia de superposición:</strong> Si las cajas y bigotes estuvieran completamente separados en el eje Y (Edad), sugeriría una posible separación perfecta o casi perfecta.</p></li>
</ul>
<p><strong>Implicaciones de la Separación Perfecta en la Regresión Logística:</strong></p>
<p>La separación perfecta es un problema para la estimación en la regresión logística porque los algoritmos de máxima verosimilitud utilizados para estimar los coeficientes del modelo no convergen. Los coeficientes para las variables que causan la separación se vuelven infinitos, y los errores estándar asociados son muy grandes. Esto hace que el modelo no se pueda ajustar correctamente.</p>
<p>En tu figura, dado que las cajas se superponen, puedes concluir visualmente que la variable <code class="docutils literal notranslate"><span class="pre">Edad</span></code> por sí sola <strong>no causa separación perfecta</strong> en la variable <code class="docutils literal notranslate"><span class="pre">Tipo_Dx</span></code>. Esto es una buena noticia para proceder con el modelo de regresión logística que incluye <code class="docutils literal notranslate"><span class="pre">Edad</span></code> como predictor.</p>
</section>
</section>
<section id="modelo-de-regresion-logistica-binaria">
<h2>4.5. Modelo de regresión logística binaria<a class="headerlink" href="#modelo-de-regresion-logistica-binaria" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_Dx_sinR</span><span class="p">[[</span><span class="s2">&quot;Dx_Definitivo&quot;</span><span class="p">,</span> <span class="s2">&quot;Tipo_Dx&quot;</span><span class="p">,</span> <span class="s2">&quot;Sexo&quot;</span><span class="p">,</span> <span class="s2">&quot;Edad&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   Dx_Definitivo Tipo_Dx Sexo  Edad
0              1       D    F    20
1              1       D    F     2
2              1       D    M     1
3              1       D    F    19
4              1       D    M     3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelo</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">logit</span><span class="p">(</span><span class="s2">&quot;Dx_Definitivo ~ Edad + C(Sexo)&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df_Dx_sinR</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">modelo</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Optimization terminated successfully.
         Current function value: 0.001502
         Iterations 13
                           Logit Regression Results                           
==============================================================================
Dep. Variable:          Dx_Definitivo   No. Observations:               248439
Model:                          Logit   Df Residuals:                   248436
Method:                           MLE   Df Model:                            2
Date:                Thu, 06 Nov 2025   Pseudo R-squ.:                 0.06241
Time:                        19:06:41   Log-Likelihood:                -373.24
converged:                       True   LL-Null:                       -398.08
Covariance Type:            nonrobust   LLR p-value:                 1.620e-11
================================================================================
                   coef    std err          z      P&gt;|z|      [0.025      0.975]
--------------------------------------------------------------------------------
Intercept        9.0062      0.229     39.329      0.000       8.557       9.455
C(Sexo)[T.M]     0.4370      0.327      1.338      0.181      -0.203       1.077
Edad            -0.0594      0.006    -10.126      0.000      -0.071      -0.048
================================================================================

Possibly complete quasi-separation: A fraction 0.24 of observations can be
perfectly predicted. This might indicate that there is complete
quasi-separation. In this case some parameters will not be identified.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtener las predicciones del modelo para los datos de entrenamiento</span>
<span class="n">df_f</span> <span class="o">=</span> <span class="n">df_Dx_sinR</span><span class="p">[</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Sexo&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;F&quot;</span><span class="p">]</span>
<span class="n">df_m</span> <span class="o">=</span> <span class="n">df_Dx_sinR</span><span class="p">[</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Sexo&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;M&quot;</span><span class="p">]</span>

<span class="n">y_pred_f</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">df_f</span><span class="p">)</span>
<span class="n">y_pred_m</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">df_m</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crear un gráfico de dispersión con los datos observados y forzados</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span> <span class="c1"># Ajustar el tamaño de la figura si es necesario</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Edad&quot;</span><span class="p">][</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Dx_Definitivo&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">],</span>
            <span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Dx_Definitivo&quot;</span><span class="p">][</span><span class="n">df_Dx_sinR</span><span class="p">[</span><span class="s2">&quot;Dx_Definitivo&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">],</span>
            <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado (Definitivo: 1)&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_f</span><span class="p">[</span><span class="s2">&quot;Edad&quot;</span><span class="p">],</span> <span class="n">y_pred_f</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;pink&quot;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Forzado F&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>  <span class="c1"># Datos forzados (predichos)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_m</span><span class="p">[</span><span class="s2">&quot;Edad&quot;</span><span class="p">],</span> <span class="n">y_pred_m</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Forzado M&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>  <span class="c1"># Datos forzados (predichos)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Edad&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Probabilidad de Dx_Definitivo&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Datos Observados vs. Forzados (Regresión Logística)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span> <span class="c1"># loc: lower, upper:left, right, center</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/895a1e5f3adbdb3226fae50a88e88f7e63da68bb2b1cddf262112409e677a26a.png" src="../_images/895a1e5f3adbdb3226fae50a88e88f7e63da68bb2b1cddf262112409e677a26a.png" />
</div>
</div>
<p><strong>Referencias</strong></p>
<blockquote>
<div><p><a href="https://link.springer.com/article/10.1186/s12889-024-18338-8">Lyu, Y., Xu, Q., &amp; Liu, J. (2024). Exploring the medical decision-making patterns and influencing factors among the general Chinese public: a binary logistic regression analysis. BMC public health, 24(1), 887.</a></p>
</div></blockquote>
<blockquote>
<div><p><a href="https://www.nature.com/articles/s41598-023-49872-x">Talin, I. A., Abid, M. H., Samad, M. A., Domínguez Azpíroz, I., de la Torre Diez, I., Ashraf, I., &amp; Nahid, A. A. (2023). Exploring factors influencing the severity of pregnancy anemia in India: a study using proportional odds model. Scientific Reports, 13(1), 22816.</a></p>
</div></blockquote>
<blockquote>
<div><p><a href="https://sjuoz.uoz.edu.krd/index.php/sjuoz/article/view/442">Abdulqader, Q. M. (2017). Applying the binary logistic regression analysis on the medical data. Science Journal of University of Zakho, 5(4), 330-334.</a></p>
</div></blockquote>
<blockquote>
<div><p><a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC4419893/">Avali, V. R., Cooper, G. F., &amp; Gopalakrishnan, V. (2014, November). Application of Bayesian logistic regression to mining biomedical data. In AMIA Annual Symposium Proceedings (Vol. 2014, p. 266)</a></p>
</div></blockquote>
<blockquote>
<div><p><a href="https://www.bioestadistica.uma.es/apuntesMaster/regresi%C3%B3n-log%C3%ADstica-binaria.html">Apuntes de Estadística</a></p>
</div></blockquote>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="sesion4-estadistica_descriptiva.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>4. Estadística Descriptiva</strong></p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>5. Estadística Inferencial</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#i-gestion-de-directorios-y-archivos-en-la-nube"><strong>I. Gestión de directorios y archivos en la nube</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#montar-google-drive-a-colaboratory">1.1. Montar Google drive a Colaboratory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explorar-contenido-de-google-drive">1.2. Explorar contenido de Google Drive</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ii-importar-base-de-datos"><strong>II. Importar base de datos</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparar-entorno">2.1. Preparar entorno</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-en-formato-excel">2.2. Archivos en formato EXCEL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#archivos-en-formato-csv">2.3. Archivos en formato CSV</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#iii-modelo-de-regresion-lineal-simple"><strong>III. Modelo de regresión lineal simple</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linealidad">3.1. Linealidad</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#independencia-de-las-observaciones">3.2. Independencia de las observaciones</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prueba-de-hipotesis-de-durbin-watson">Prueba de Hipótesis de Durbin-Watson</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ausencia-de-valores-atipicos">3.3. Ausencia de valores atípicos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#normalidad-de-los-residuos">3.4. Normalidad de los residuos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#homocedasticidad">3.5. Homocedasticidad</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#iv-modelo-de-regresion-logistica-binaria"><strong>IV. Modelo de regresión logística binaria</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#funcion-logistica">4.1. Función logística</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tamano-muestral-suficiente">4.2. Tamaño muestral suficiente</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-dependiente-binaria">4.3. Variable dependiente binaria</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">4.4. Independencia de las observaciones</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#independencia-entre-variables-categoricas-tipo-dx-y-sexo">Independencia entre variables categóricas (Tipo_Dx y Sexo)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#independencia-entre-una-variable-categorica-y-una-continua-sexo-y-edad">Independencia entre una variable categórica y una continua (Sexo y Edad)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#independencia-entre-una-variable-categorica-y-una-continua-tipo-dx-y-edad">Independencia entre una variable categórica y una continua (Tipo_Dx y Edad)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-e-interpretacion-de-la-separacion-perfecta-en-la-figura-distribucion-de-edad-por-tipo-dx">Análisis e Interpretación de la Separación Perfecta en la figura “Distribución de Edad por Tipo_Dx”</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelo-de-regresion-logistica-binaria">4.5. Modelo de regresión logística binaria</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By VR Rojas
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <style>
  .slideshow-container { max-width: 800px; margin: auto; position: relative; }
  .slides { display: none; width: 100%; height: auto; }
  .slides.active { display: block; }
  .controls { text-align: center; margin-top: 10px; }
  .controls button { margin: 0 10px; padding: 10px 20px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 5px; }
  .controls button:hover { background: #0056b3; }
</style>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>